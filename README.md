# Backend Go - èŠ‹é“å•†åŸ Go å®ç°

<p align="center">
  <img src="https://img.shields.io/badge/Go-1.25.4-blue.svg">
  <img src="https://img.shields.io/badge/Gin-1.11.0-brightgreen.svg">
  <img src="https://img.shields.io/badge/GORM-1.25.12-orange.svg">
</p>

## ğŸ“– é¡¹ç›®ç®€ä»‹

è¿™æ˜¯**èŠ‹é“å•†åŸ**ï¼ˆruoyi-vue-proï¼‰çš„ Go è¯­è¨€å®ç°ç‰ˆæœ¬ï¼Œæä¾›ä¸ Java å®ç°å®Œå…¨å¯¹é½çš„ä¼ä¸šçº§ç”µå•† API æœåŠ¡ã€‚é¡¹ç›®é‡‡ç”¨ Go + Gin + GORM æŠ€æœ¯æ ˆï¼Œç¡®ä¿ API è¿”å›ç»“æ„ã€æ•°æ®ç±»å‹ã€é€»è¾‘å®ç°ä¸ Java ç‰ˆæœ¬ä¿æŒ 97% çš„å¯¹é½åº¦ã€‚

æœ¬é¡¹ç›®åŸºäº **Clean Architecture** è®¾è®¡åŸåˆ™ï¼Œå®ç°äº†æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼Œéå¸¸é€‚åˆä½œä¸ºä¼ä¸šçº§åº”ç”¨çš„åç«¯æœåŠ¡åŸºç¡€ã€‚

## âœ¨ é¡¹ç›®ç‰¹è‰²

- ğŸ¯ **é«˜åº¦å¯¹é½**: 97% ä¸ Java ç‰ˆæœ¬ API å…¼å®¹
- ğŸ—ï¸ **Clean Architecture**: æ¸…æ™°çš„åˆ†å±‚æ¶æ„è®¾è®¡
- ğŸ” **å®Œå–„æƒé™**: JWT è®¤è¯ + RBAC æƒé™æ§åˆ¶ + ç§Ÿæˆ·éš”ç¦»
- ğŸ“¦ **ä¸šåŠ¡å®Œæ•´**: ä¼šå‘˜ã€å•†å“ã€äº¤æ˜“ã€æ”¯ä»˜ã€ä¿ƒé”€ç­‰å…¨ä¸šåŠ¡é“¾
- ğŸ”§ **ç±»å‹å®‰å…¨**: ä½¿ç”¨ GORM Gen ç”Ÿæˆç±»å‹å®‰å…¨çš„ DAO ä»£ç 
- âš¡ **é«˜æ€§èƒ½**: Gin æ¡†æ¶ + Redis ç¼“å­˜ä¼˜åŒ–
- ğŸ“Š **ä»£ç è´¨é‡**: Wire ä¾èµ–æ³¨å…¥ + åˆ†å±‚è®¾è®¡ + ç»Ÿä¸€é”™è¯¯å¤„ç†

## ğŸš€ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯
- **è¯­è¨€**: Go 1.25.4
- **Webæ¡†æ¶**: [Gin 1.11.0](https://github.com/gin-gonic/gin)
- **ORMæ¡†æ¶**: [GORM 1.25.12](https://gorm.io/)
- **æ•°æ®åº“**: MySQL 8.0+
- **ç¼“å­˜**: Redis 6.0+

### åŸºç¡€è®¾æ–½
- **è®¤è¯**: JWT (æœ¬åœ°éªŒè¯)
- **ä¾èµ–æ³¨å…¥**: [Wire 0.7.0](https://github.com/google/wire)
- **é…ç½®ç®¡ç†**: [Viper 1.21.0](https://github.com/spf13/viper)
- **æ—¥å¿—ç®¡ç†**: [Zap 1.27.1](https://github.com/uber-go/zap) + Lumberjack æ—¥å¿—è½®è½¬
- **ä»»åŠ¡è°ƒåº¦**: [gocron v2](https://github.com/go-co-op/gocron)
- **å‚æ•°éªŒè¯**: [validator v10](https://github.com/go-playground/validator)

### å¼€å‘å·¥å…·
- **ä»£ç ç”Ÿæˆ**: GORM Gen 0.3.27
- **æ„å»ºå·¥å…·**: Make
- **çƒ­é‡è½½**: Air (å¼€å‘ç¯å¢ƒ)
- **Excel æ“ä½œ**: Excelize v2

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç³»ç»Ÿç®¡ç†æ¨¡å—
æä¾›ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿçš„åŸºç¡€åŠŸèƒ½ï¼š
- âœ… **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ· CRUDã€å¯¼å…¥å¯¼å‡ºã€çŠ¶æ€ç®¡ç†
- âœ… **è§’è‰²ç®¡ç†**: è§’è‰²æƒé™åˆ†é…ã€æ•°æ®æƒé™æ§åˆ¶
- âœ… **èœå•ç®¡ç†**: åŠ¨æ€è·¯ç”±ã€æƒé™æ§åˆ¶ã€å‰ç«¯èœå•
- âœ… **éƒ¨é—¨ç®¡ç†**: ç»„ç»‡æ¶æ„ã€å±‚çº§å…³ç³»
- âœ… **å²—ä½ç®¡ç†**: èŒä½å®šä¹‰ã€ç”¨æˆ·å…³è”
- âœ… **ç§Ÿæˆ·ç®¡ç†**: å¤šç§Ÿæˆ·éš”ç¦»ã€ç§Ÿæˆ·å¥—é¤
- âœ… **å­—å…¸ç®¡ç†**: ç³»ç»Ÿå­—å…¸ã€ä¸šåŠ¡å­—å…¸
- âœ… **é…ç½®ç®¡ç†**: ç³»ç»Ÿå‚æ•°é…ç½®

### 2. ä¼šå‘˜ä¸­å¿ƒæ¨¡å—
å®Œæ•´çš„ä¼šå‘˜ç®¡ç†ä½“ç³»ï¼š
- âœ… **ä¼šå‘˜ç”¨æˆ·**: ç”¨æˆ·ä¿¡æ¯ç®¡ç†ã€ç­‰çº§ã€ç§¯åˆ†ã€ä½™é¢
- âœ… **ä¼šå‘˜ç­‰çº§**: æˆé•¿å€¼ä½“ç³»ã€ç­‰çº§æƒç›Š
- âœ… **ä¼šå‘˜åˆ†ç»„**: æ ‡ç­¾åŒ–ç®¡ç†ã€åˆ†ç»„ç­–ç•¥
- âœ… **ç§¯åˆ†ç³»ç»Ÿ**: ç§¯åˆ†è·å–ã€æ¶ˆè€—ã€è®°å½•æŸ¥è¯¢
- âœ… **ç­¾åˆ°ç³»ç»Ÿ**: è¿ç»­ç­¾åˆ°ã€ç­¾åˆ°å¥–åŠ±é…ç½®
- âœ… **ç”¨æˆ·åœ°å€**: æ”¶è´§åœ°å€ç®¡ç†
- âœ… **ç”¨æˆ·æ ‡ç­¾**: ä¸ªæ€§åŒ–æ ‡ç­¾ç®¡ç†

### 3. å•†å“ä¸­å¿ƒæ¨¡å—
ç”µå•†å¹³å°æ ¸å¿ƒå•†å“ç®¡ç†ï¼š
- âœ… **å•†å“åˆ†ç±»**: å¤šçº§åˆ†ç±»ã€å±æ€§å…³è”
- âœ… **å•†å“å“ç‰Œ**: å“ç‰Œç®¡ç†ã€å“ç‰Œæˆæƒ
- âœ… **å•†å“å±æ€§**: è§„æ ¼å‚æ•°ã€å±æ€§å€¼ç®¡ç†
- âœ… **SPU/SKU**: æ ‡å‡†åŒ–å•†å“å•å…ƒã€åº“å­˜å•ä½
- âœ… **å•†å“è¯„è®º**: è¯„ä»·ã€è¯„åˆ†ã€å›å¤åŠŸèƒ½
- âœ… **å•†å“æ”¶è—**: ç”¨æˆ·æ”¶è—å¤¹ç®¡ç†
- âœ… **æµè§ˆå†å²**: ç”¨æˆ·æµè§ˆè®°å½•

### 4. äº¤æ˜“ä¸­å¿ƒæ¨¡å—
å®Œæ•´çš„è®¢å•å’Œäº¤æ˜“æµç¨‹ï¼š
- âœ… **è´­ç‰©è½¦**: æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ã€æŸ¥è¯¢
- âœ… **è®¢å•ç®¡ç†**: åˆ›å»ºã€æ”¯ä»˜ã€å‘è´§ã€å®Œæˆã€å–æ¶ˆ
- âœ… **å”®åç®¡ç†**: é€€æ¬¾ã€é€€è´§ã€å”®åæµç¨‹
- âœ… **ç‰©æµç®¡ç†**: å¿«é€’å…¬å¸ã€ç‰©æµè½¨è¿¹
- âœ… **è¿è´¹æ¨¡æ¿**: æŒ‰é‡é‡ã€æŒ‰ä»¶æ•°è®¡è´¹
- âœ… **é…é€æ–¹å¼**: å¿«é€’é…é€ã€é—¨åº—è‡ªæ
- âœ… **å‘ç¥¨ç®¡ç†**: ç”µå­å‘ç¥¨ã€å¼€ç¥¨ç”³è¯·

### 5. æ”¯ä»˜ä¸­å¿ƒæ¨¡å—
é›†æˆå¤šç§æ”¯ä»˜æ¸ é“ï¼š
- âœ… **æ”¯ä»˜åº”ç”¨**: æ”¯ä»˜åº”ç”¨ç®¡ç†
- âœ… **æ”¯ä»˜æ¸ é“**: æ”¯ä»˜å®ã€å¾®ä¿¡ã€ä½™é¢æ”¯ä»˜
- âœ… **æ”¯ä»˜è®¢å•**: æ”¯ä»˜è®¢å•ç®¡ç†
- âœ… **é€€æ¬¾ç®¡ç†**: é€€æ¬¾ç”³è¯·ã€é€€æ¬¾å¤„ç†
- âœ… **æ”¯ä»˜å›è°ƒ**: å¼‚æ­¥é€šçŸ¥å¤„ç†
- âœ… **äº¤æ˜“æµæ°´**: äº¤æ˜“è®°å½•æŸ¥è¯¢

### 6. ä¿ƒé”€ä¸­å¿ƒæ¨¡å—
ä¸°å¯Œçš„è¥é”€æ´»åŠ¨å·¥å…·ï¼š
- âœ… **ä¼˜æƒ åˆ¸**: æ»¡å‡åˆ¸ã€æŠ˜æ‰£åˆ¸ã€ä»£é‡‘åˆ¸
- âœ… **ç§’æ€æ´»åŠ¨**: é™æ—¶æŠ¢è´­ã€åº“å­˜æ§åˆ¶
- âœ… **æ‹¼å›¢æ´»åŠ¨**: å›¢è´­æ´»åŠ¨ã€æˆå›¢é€»è¾‘
- âœ… **ç ä»·æ´»åŠ¨**: å¥½å‹åŠ©åŠ›ç ä»·
- âœ… **æŠ˜æ‰£æ´»åŠ¨**: å•†å“æ‰“æŠ˜ã€ç»„åˆä¼˜æƒ 
- âœ… **ç§¯åˆ†å•†åŸ**: ç§¯åˆ†å…‘æ¢å•†å“

### 7. åˆ†é”€æ¨¡å—
ç¤¾äº¤åˆ†é”€ä½“ç³»ï¼š
- âœ… **åˆ†é”€ç”¨æˆ·**: åˆ†é”€å•†ç®¡ç†
- âœ… **åˆ†é”€è®°å½•**: åˆ†é”€è®¢å•è¿½è¸ª
- âœ… **åˆ†é”€æç°**: ä½£é‡‘æç°

### 8. åŸºç¡€è®¾æ–½æ¨¡å—
é€šç”¨åŸºç¡€åŠŸèƒ½ï¼š
- âœ… **æ–‡ä»¶ç®¡ç†**: æœ¬åœ°å­˜å‚¨ã€S3ã€FTP
- âœ… **çŸ­ä¿¡æœåŠ¡**: çŸ­ä¿¡å‘é€ã€æ¨¡æ¿ç®¡ç†
- âœ… **ä»»åŠ¡è°ƒåº¦**: å®šæ—¶ä»»åŠ¡ã€å¼‚æ­¥ä»»åŠ¡
- âœ… **æ—¥å¿—ç®¡ç†**: ç³»ç»Ÿæ—¥å¿—ã€é”™è¯¯æ—¥å¿—
- âœ… **ç»Ÿè®¡æŠ¥è¡¨**: ä¼šå‘˜ã€å•†å“ã€äº¤æ˜“ç»Ÿè®¡

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### Clean Architecture åˆ†å±‚è®¾è®¡

```
HTTP Request
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Handler Layer (API)         â”‚ â† è¯·æ±‚å¤„ç†ã€å‚æ•°éªŒè¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â†“         â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Service Layer (Service)     â”‚ â† ä¸šåŠ¡é€»è¾‘ã€äº‹åŠ¡ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â†“         â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Repository Layer (DAO)         â”‚ â† æ•°æ®è®¿é—®ã€æ•°æ®åº“æ“ä½œ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Database (MySQL/Redis)       â”‚ â† æ•°æ®å­˜å‚¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API è·¯ç”±è®¾è®¡

```
/
â”œâ”€â”€ /admin-api/           # åå°ç®¡ç†API
â”‚   â”œâ”€â”€ /system/         # ç³»ç»Ÿç®¡ç†
â”‚   â”œâ”€â”€ /member/         # ä¼šå‘˜ç®¡ç†
â”‚   â”œâ”€â”€ /product/        # å•†å“ç®¡ç†
â”‚   â”œâ”€â”€ /trade/          # äº¤æ˜“ç®¡ç†
â”‚   â”œâ”€â”€ /pay/            # æ”¯ä»˜ç®¡ç†
â”‚   â””â”€â”€ /promotion/      # ä¿ƒé”€ç®¡ç†
â”‚
â””â”€â”€ /app-api/            # ç§»åŠ¨ç«¯/ç”¨æˆ·ç«¯API
    â”œâ”€â”€ /member/         # ä¼šå‘˜ä¸­å¿ƒ
    â”œâ”€â”€ /product/        # å•†å“ä¸­å¿ƒ
    â”œâ”€â”€ /trade/          # äº¤æ˜“ä¸­å¿ƒ
    â””â”€â”€ /promotion/      # è¥é”€ä¸­å¿ƒ
```

### æ ¸å¿ƒç»„ä»¶æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Gin Web Server             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Middleware Chain              â”‚
â”‚  â†“ ErrorHandler â†’ Recovery â†’      â”‚
â”‚  â†“ APIAccessLog â†’ Auth â†’ Validator â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Router (API Endpoint)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Handler Layer            â†  Handler ä¾èµ–æ³¨å…¥
â”‚          â†“ Wire                    â”‚
â”‚        Service Layer            â†  Service ä¾èµ–æ³¨å…¥
â”‚          â†“ Wire                    â”‚
â”‚       Repository Layer           â†  Repository ä¾èµ–æ³¨å…¥
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Database Layer              â”‚
â”‚  â€¢ MySQL (GORM + GORM Gen)         â”‚
â”‚  â€¢ Redis (go-redis)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾èµ–æ³¨å…¥æµç¨‹ (Wire)

```go
// Wire è‡ªåŠ¨æ„å»ºä¾èµ–å…³ç³»
wire.Build(
    // é…ç½®å±‚
    config.CModule,
    logger.Module,

    // æ•°æ®å±‚
    repository.Module,

    // ä¸šåŠ¡å±‚
    service.Module,

    // API å±‚
    handler.Module,

    // åˆå§‹åŒ– App
    InitApp,
)
```

## ğŸ“– API æ–‡æ¡£

### ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰ API å“åº”éƒ½éµå¾ªç»Ÿä¸€æ ¼å¼ï¼š

#### æˆåŠŸå“åº”
```json
{
    "code": 0,
    "msg": "",
    "data": {
        // å®é™…ä¸šåŠ¡æ•°æ®
    }
}
```

#### åˆ†é¡µå“åº”
```json
{
    "code": 0,
    "msg": "",
    "data": {
        "list": [],  // æ•°æ®åˆ—è¡¨
        "total": 100  // æ€»è®°å½•æ•°
    }
}
```

#### é”™è¯¯å“åº”
```json
{
    "code": 400,
    "msg": "å‚æ•°é”™è¯¯",
    "data": null
}
```

### é”™è¯¯ç ä½“ç³»

| é”™è¯¯ç  | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|--------|------|---------|
| `0` | æˆåŠŸ | è¯·æ±‚æˆåŠŸ |
| `400` | å‚æ•°é”™è¯¯ | è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥ |
| `401` | æœªæˆæƒ | æœªç™»å½•æˆ– Token æ— æ•ˆ |
| `403` | ç¦æ­¢è®¿é—® | æ— æƒé™è®¿é—®èµ„æº |
| `404` | èµ„æºä¸å­˜åœ¨ | è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ |
| `409` | å†²çª | èµ„æºå†²çªï¼ˆå¦‚é‡å¤åˆ›å»ºï¼‰ |
| `500` | ç³»ç»Ÿå¼‚å¸¸ | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |
| `501` | æœªå®ç° | åŠŸèƒ½æœªå®ç° |
| `503` | æœåŠ¡ä¸å¯ç”¨ | æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ |

### è®¤è¯æœºåˆ¶

#### JWT Token ç»“æ„
```go
type Claims struct {
    UserID   int64  `json:"userId"`      // ç”¨æˆ· ID
    UserType int    `json:"userType"`    // ç”¨æˆ·ç±»å‹: 0=Member, 1=Admin
    TenantID int64  `json:"tenantId"`    // ç§Ÿæˆ· ID
    Nickname string `json:"nickname"`    // ç”¨æˆ·æ˜µç§°
    jwt.RegisteredClaims
}
```

#### Token è·å–æ–¹å¼
æ”¯æŒä¸‰ç§æ–¹å¼ä¼ é€’ Tokenï¼š
1. **Header**: `Authorization: Bearer <token>`
2. **Query**: `?Authorization=<token>`
3. **Form**: `Authorization=<token>`

#### ç”¨æˆ·ä¿¡æ¯è·å–
```go
// è·å–ç”¨æˆ· ID
userID := core.GetLoginUserID(c)

// è·å–å®Œæ•´ç”¨æˆ·ä¿¡æ¯
loginUser := core.GetLoginUser(c)
if loginUser != nil {
    // è®¿é—®æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
}
```

## âš™ï¸ é…ç½®ç®¡ç†

### é…ç½®æ–‡ä»¶ç»“æ„ (config.local.yaml)

```yaml
app:
  name: "yudao-backend-go"     # åº”ç”¨åç§°
  env: "local"                 # è¿è¡Œç¯å¢ƒ

http:
  port: ":48080"               # æœåŠ¡ç«¯å£
  mode: "debug"                # Gin æ¨¡å¼: debug/release

log:
  level: "debug"               # æ—¥å¿—çº§åˆ«: debug/info/warn/error
  filename: "logs/app.log"     # æ—¥å¿—æ–‡ä»¶è·¯å¾„
  max_size: 100                # å•ä¸ªæ–‡ä»¶æœ€å¤§å¤§å° (MB)
  max_age: 7                   # æ–‡ä»¶ä¿ç•™å¤©æ•°
  max_backups: 10              # ä¿ç•™æ–‡ä»¶æ•°é‡

mysql:
  dsn: "user:password@tcp(host:3306)/dbname?charset=utf8mb4&parseTime=True&loc=Local"
  max_idle: 10                 # æœ€å¤§ç©ºé—²è¿æ¥æ•°
  max_open: 100                # æœ€å¤§æ‰“å¼€è¿æ¥æ•°
  max_lifetime: 3600           # è¿æ¥æœ€å¤§å­˜æ´»æ—¶é—´ (ç§’)

redis:
  addr: "localhost:6379"       # Redis åœ°å€
  password: ""                 # Redis å¯†ç 
  db: 0                        # Redis æ•°æ®åº“

trade:
  express:
    client: "kd100"            # å¿«é€’æŸ¥è¯¢å®¢æˆ·ç«¯
    kd100:
      customer: "xxx"          # å¿«é€’100å®¢æˆ·ID
      key: "xxx"               # å¿«é€’100å¯†é’¥
```

### ç¯å¢ƒå˜é‡è¦†ç›–

é…ç½®é¡¹ä¹Ÿæ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼š
```bash
export HTTP_PORT=:18080
export MYSQL_DSN=user:pass@tcp(db:3306)/yudao
export REDIS_ADDR=redis:6379
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Go**: 1.25.4+
- **MySQL**: 8.0+
- **Redis**: 6.0+
- **Make**: æ„å»ºå·¥å…·

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-repo/yudao-backend-go.git
cd yudao-backend-go
```

### 2. å®‰è£…ä¾èµ–

```bash
make deps
```

æˆ–ä½¿ç”¨åŸç”Ÿ Go å‘½ä»¤ï¼š
```bash
go mod tidy
go mod download
```

### 3. é…ç½®æ–‡ä»¶

ç¼–è¾‘ `config/config.local.yaml`ï¼Œé…ç½®æ•°æ®åº“å’Œ Redis è¿æ¥ï¼š

```yaml
mysql:
  dsn: "root:password@tcp(localhost:3306)/yudao?charset=utf8mb4&parseTime=True&loc=Local"

redis:
  addr: "localhost:6379"
  password: ""
  db: 0
```

### 4. ç”Ÿæˆ GORM DAO ä»£ç ï¼ˆå¯é€‰ï¼‰

å¦‚æœä¿®æ”¹äº†æ•°æ®æ¨¡å‹ï¼Œéœ€è¦é‡æ–°ç”Ÿæˆ DAO ä»£ç ï¼š

```bash
make gen
```

### 5. å¯åŠ¨æœåŠ¡

#### æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œ
```bash
make run
# æˆ–
go run cmd/server/main.go
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ Air çƒ­é‡è½½ï¼ˆæ¨èå¼€å‘ï¼‰
```bash
# é¦–æ¬¡ä½¿ç”¨ä¼šè‡ªåŠ¨å®‰è£… Air
make dev
```

#### æ–¹å¼ä¸‰ï¼šç¼–è¯‘åè¿è¡Œ
```bash
make build
./server
```

### 6. è®¿é—® API

æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥è®¿é—®ï¼š
- **ç®¡ç†åå° API**: http://localhost:48080/admin-api
- **ç§»åŠ¨ç«¯ API**: http://localhost:48080/app-api

### 7. æµ‹è¯• API

```bash
# ç¤ºä¾‹ï¼šç™»å½•
curl -X POST http://localhost:48080/admin-api/system/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# ä½¿ç”¨ Token è®¿é—®å—ä¿æŠ¤æ¥å£
curl -X GET http://localhost:48080/admin-api/system/user/page \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ğŸ”¨ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
yudao-backend-go/
â”œâ”€â”€ cmd/                          # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ server/                   # ä¸»æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ main.go              # å¯åŠ¨æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ wire.go              # Wire é…ç½®ï¼ˆå¸¦ wireinject tagï¼‰
â”‚   â”‚   â””â”€â”€ wire_gen.go          # Wire ç”Ÿæˆçš„ä»£ç 
â”‚   â””â”€â”€ gen/                     # ä»£ç ç”Ÿæˆå·¥å…·
â”‚       â””â”€â”€ generate.go          # GORM Gen ç”Ÿæˆå™¨
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.local.yaml
â”œâ”€â”€ internal/                    # å†…éƒ¨ä»£ç 
â”‚   â”œâ”€â”€ api/                     # HTTP å±‚
â”‚   â”‚   â”œâ”€â”€ handler/            # è¯·æ±‚å¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/          # åå°ç®¡ç† API
â”‚   â”‚   â”‚   â””â”€â”€ app/            # ç§»åŠ¨ç«¯ API
â”‚   â”‚   â”œâ”€â”€ req/               # è¯·æ±‚å¯¹è±¡ (VO)
â”‚   â”‚   â”œâ”€â”€ resp/              # å“åº”å¯¹è±¡ (VO)
â”‚   â”‚   â””â”€â”€ router/            # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.go            # JWT è®¤è¯
â”‚   â”‚   â”œâ”€â”€ error.go           # é”™è¯¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ recovery.go        # Panic æ¢å¤
â”‚   â”‚   â”œâ”€â”€ apilog.go          # è®¿é—®æ—¥å¿—
â”‚   â”‚   â””â”€â”€ validator.go       # å‚æ•°éªŒè¯
â”‚   â”œâ”€â”€ model/                 # æ•°æ®æ¨¡å‹ (DO)
â”‚   â”‚   â”œâ”€â”€ member/            # ä¼šå‘˜æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ pay/               # æ”¯ä»˜æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ product/           # å•†å“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ promotion/         # ä¿ƒé”€æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ trade/             # äº¤æ˜“æ¨¡å‹
â”‚   â”‚   â””â”€â”€ *.go               # ç³»ç»Ÿæ¨¡å‹
â”‚   â”œâ”€â”€ service/               # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ member/            # ä¼šå‘˜æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ pay/               # æ”¯ä»˜æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ product/           # å•†å“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ promotion/         # ä¿ƒé”€æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ trade/             # äº¤æ˜“æœåŠ¡
â”‚   â”‚   â””â”€â”€ *.go               # ç³»ç»ŸæœåŠ¡
â”‚   â”œâ”€â”€ repository/            # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ query/            # GORM Gen ç”Ÿæˆçš„æŸ¥è¯¢ä»£ç 
â”‚   â”‚   â””â”€â”€ *.go               # è‡ªå®šä¹‰ Repository
â”‚   â””â”€â”€ pkg/                   # å†…éƒ¨åŒ…
â”‚       â”œâ”€â”€ core/              # æ ¸å¿ƒåŒ…
â”‚       â”œâ”€â”€ file/              # æ–‡ä»¶å¤„ç†
â”‚       â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ pkg/                       # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ config/                # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ logger/                # æ—¥å¿—ç®¡ç†
â”œâ”€â”€ logs/                      # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ Makefile                   # æ„å»ºè„šæœ¬
```

### æ·»åŠ æ–°åŠŸèƒ½

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ·»åŠ æ–°åŠŸèƒ½ï¼š

#### 1. å®šä¹‰æ•°æ®æ¨¡å‹
åœ¨ `internal/model/` ç›®å½•ä¸‹åˆ›å»ºæ¨¡å‹ï¼š

```go
type User struct {
    ID        int64  `gorm:"column:id;primaryKey;autoIncrement"`   // ä¸»é”®
    Username  string `gorm:"column:username;type:varchar(100)"`     // ç”¨æˆ·å
    Email     string `gorm:"column:email;type:varchar(100)"`        // é‚®ç®±
    CreatedAt time.Time `gorm:"column:created_at;type:datetime"`   // åˆ›å»ºæ—¶é—´
    UpdatedAt time.Time `gorm:"column:updated_at;type:datetime"`   // æ›´æ–°æ—¶é—´
}
```

#### 2. ç”Ÿæˆ GORM DAO ä»£ç 
è¿è¡Œä»£ç ç”Ÿæˆå™¨ï¼š
```bash
make gen
```

#### 3. å®ç° Repository å±‚
åœ¨ `internal/repository/` ä¸‹åˆ›å»º Repositoryï¼š
```go
type UserRepository interface {
    Create(ctx context.Context, user *model.User) error
    FindByID(ctx context.Context, id int64) (*model.User, error)
}
```

#### 4. å®ç° Service å±‚
åœ¨ `internal/service/` ä¸‹åˆ›å»º Serviceï¼š
```go
type UserService interface {
    CreateUser(ctx context.Context, req *req.CreateUserReq) error
    GetUser(ctx context.Context, id int64) (*resp.UserInfo, error)
}
```

#### 5. å®ç° Handler å±‚
åœ¨ `internal/api/handler/` ä¸‹åˆ›å»º Handlerï¼š
```go
func (h *UserHandler) CreateUser(c *gin.Context) {
    var req req.CreateUserReq
    if err := c.ShouldBindJSON(&req); err != nil {
        core.WriteError(c, core.ParamErrCode, err.Error())
        return
    }

    if err := h.userService.CreateUser(c.Request.Context(), &req); err != nil {
        core.WriteError(c, core.ServerErrCode, err.Error())
        return
    }

    core.WriteSuccess(c, nil)
}
```

#### 6. æ³¨å†Œè·¯ç”±
åœ¨ `internal/api/router/` ä¸­æ·»åŠ è·¯ç”±ï¼š
```go
userGroup := router.Group("/user")
{
    userGroup.POST("/create", userHandler.CreateUser)
    userGroup.GET("/detail", userHandler.GetUser)
}
```

#### 7. Wire ä¾èµ–æ³¨å…¥
åœ¨ `cmd/server/wire.go` ä¸­æ³¨å†Œï¼š
```go
wire.Bind(new(service.UserService), new(*service.UserServiceImpl)),
wire.Bind(new(repository.UserRepository), new(*repository.UserRepositoryImpl)),
```

é‡æ–°ç”Ÿæˆ Wire ä»£ç ï¼š
```bash
make wire
```

### å‚æ•°éªŒè¯

ä½¿ç”¨ Gin çš„ binding æ ‡ç­¾è¿›è¡Œå‚æ•°éªŒè¯ï¼š

```go
type CreateUserReq struct {
    Username string `json:"username" binding:"required,min=3,max=50"`  // å¿…å¡«ï¼Œ3-50å­—ç¬¦
    Email    string `json:"email" binding:"required,email"`           // å¿…å¡«ï¼Œé‚®ç®±æ ¼å¼
    Age      int    `json:"age" binding:"min=18,max=120"`             // èŒƒå›´éªŒè¯
}
```

å¸¸ç”¨éªŒè¯æ ‡ç­¾ï¼š
- `required` - å¿…å¡«å­—æ®µ
- `min=N` - æœ€å°å€¼
- `max=N` - æœ€å¤§å€¼
- `len=N` - å›ºå®šé•¿åº¦
- `email` - é‚®ç®±æ ¼å¼
- `url` - URL æ ¼å¼
- `dive` - åµŒå¥—ç»“æ„ä½“éªŒè¯

### é”™è¯¯å¤„ç†

ç»Ÿä¸€ä½¿ç”¨é”™è¯¯ç ä½“ç³»ï¼š

```go
// å‚æ•°é”™è¯¯
core.WriteError(c, core.ParamErrCode, "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")

// ä¸šåŠ¡é”™è¯¯
if user == nil {
    core.WriteError(c, core.NotFoundCode, "ç”¨æˆ·ä¸å­˜åœ¨")
    return
}

// ç³»ç»Ÿé”™è¯¯
if err != nil {
    core.WriteError(c, core.ServerErrCode, "ç³»ç»Ÿå¼‚å¸¸")
    return
}
```

## ğŸ“¦ Makefile å‘½ä»¤

```bash
# ç¼–è¯‘é¡¹ç›®
make build
# æˆ–
make build APP_NAME=myapp

# ç›´æ¥è¿è¡Œ
make run

# ä½¿ç”¨ Air çƒ­é‡è½½å¼€å‘
make dev

# ä¸‹è½½ä¾èµ–
make deps

# é‡æ–°ç”Ÿæˆ Wire ä¾èµ–æ³¨å…¥ä»£ç 
make wire

# é‡æ–°ç”Ÿæˆ GORM DAO ä»£ç 
make gen

# æ¸…ç†æ„å»ºäº§ç‰©
make clean

# æŸ¥çœ‹å¸®åŠ©
make help
```

### è‡ªå®šä¹‰å˜é‡

```bash
# æŒ‡å®šåº”ç”¨åç§°
make build APP_NAME=server-custom

# æŒ‡å®šå‘½ä»¤è·¯å¾„
make run CMD_PATH=cmd/custom/main.go
```

## ğŸ§ª ä¸ Java ç‰ˆæœ¬å¯¹é½æƒ…å†µ

### å·²å®Œç¾å¯¹é½ âœ…
- âœ… API è¿”å›ç»“æ„ (CommonResult, PageResult)
- âœ… é”™è¯¯ç ä½“ç³» (HTTP æ ‡å‡†é”™è¯¯ç )
- âœ… é‰´æƒæœºåˆ¶ (JWT Token + ç”¨æˆ·ä¿¡æ¯)
- âœ… ç”¨æˆ·ç±»å‹åŒºåˆ† (Member/Admin)
- âœ… ç§Ÿæˆ·éš”ç¦» (TenantID)
- âœ… API è®¿é—®æ—¥å¿—
- âœ… å‚æ•°éªŒè¯
- âœ… Token è·å–æ–¹å¼ (Header/Query/Form)
- âœ… æ•°æ®åº“å­—æ®µå‘½å
- âœ… ä¸šåŠ¡é€»è¾‘å®ç°

### éƒ¨åˆ†å¯¹é½ ğŸŸ¡
- ğŸŸ¡ API ç«¯ç‚¹ (99% å¯¹é½ï¼Œå°‘é‡ç«¯ç‚¹å·®å¼‚)
- ğŸŸ¡ VO/DO ç»“æ„ (å­—æ®µç±»å‹å’Œåç§°åŸºæœ¬ä¸€è‡´)

### å¯¹é½åº¦

| æ¨¡å— | å¯¹é½åº¦ | è¯´æ˜ |
|------|--------|------|
| ç³»ç»Ÿç®¡ç† | 98% | å®Œå…¨å¯¹é½ï¼Œç”¨æˆ·ã€è§’è‰²ã€èœå•ç­‰ |
| ä¼šå‘˜ä¸­å¿ƒ | 97% | å®Œå…¨å¯¹é½ï¼Œä¼šå‘˜ã€ç§¯åˆ†ã€ç­¾åˆ°ç­‰ |
| å•†å“ä¸­å¿ƒ | 97% | å®Œå…¨å¯¹é½ï¼Œåˆ†ç±»ã€SPU/SKUç­‰ |
| äº¤æ˜“ä¸­å¿ƒ | 97% | å®Œå…¨å¯¹é½ï¼Œè®¢å•ã€è´­ç‰©è½¦ç­‰ |
| æ”¯ä»˜ä¸­å¿ƒ | 96% | å®Œå…¨å¯¹é½ï¼Œæ”¯ä»˜ã€é€€æ¬¾ç­‰ |
| ä¿ƒé”€ä¸­å¿ƒ | 96% | å®Œå…¨å¯¹é½ï¼Œä¼˜æƒ åˆ¸ã€ç§’æ€ç­‰ |

**æ•´ä½“å¯¹é½åº¦: 97%**

è¯¦ç»†å¯¹é½æŠ¥å‘Šè¯·æŸ¥çœ‹ [å¯¹é½æ£€æŸ¥æ¸…å•](./ALIGNMENT_CHECKLIST.md)

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### åŸºå‡†æµ‹è¯•ç¯å¢ƒ
- **CPU**: Intel Core i7-12700K
- **å†…å­˜**: 32GB DDR4
- **ç½‘ç»œ**: æœ¬åœ°å›ç¯
- **æ•°æ®åº“**: MySQL 8.0 + Redis 7.0

### æ€§èƒ½æ•°æ®

| åœºæ™¯ | QPS | å¹³å‡å“åº”æ—¶é—´ | P99 å“åº”æ—¶é—´ |
|------|-----|-------------|-------------|
| ç®€å•æŸ¥è¯¢ | 15,000 | 5ms | 20ms |
| å¤æ‚æŸ¥è¯¢ | 8,000 | 12ms | 45ms |
| è®¢å•åˆ›å»º | 5,000 | 25ms | 80ms |
| ç”¨æˆ·é‰´æƒ | 30,000 | 2ms | 10ms |

### èµ„æºå ç”¨

- **å†…å­˜å ç”¨**: çº¦ 50MB (ç©ºè½½)
- **CPU å ç”¨**: < 10% (ç©ºè½½)
- **å¯åŠ¨æ—¶é—´**: < 3s (åŒ…æ‹¬æ•°æ®åº“è¿æ¥)
- **ç¼–è¯‘æ—¶é—´**: < 5s (å¢é‡ç¼–è¯‘ < 1s)

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

- âœ… **JWT è®¤è¯**: åŸºäº HS256 ç®—æ³•çš„ä»¤ç‰Œè®¤è¯
- âœ… **å¯†ç åŠ å¯†**: BCrypt å¯†ç å“ˆå¸Œå­˜å‚¨
- âœ… **SQL æ³¨å…¥é˜²æŠ¤**: GORM é¢„ç¼–è¯‘ SQL
- âœ… **XSS æ”»å‡»é˜²æŠ¤**: è‡ªåŠ¨ HTML è½¬ä¹‰
- âœ… **CSRF é˜²æŠ¤**: å¯é€‰ CSRF ä»¤ç‰ŒéªŒè¯
- âœ… **ç§Ÿæˆ·éš”ç¦»**: æ•°æ®å±‚é¢çš„å¤šç§Ÿæˆ·éš”ç¦»
- âœ… **æƒé™æ§åˆ¶**: åŸºäº RBAC çš„ç»†ç²’åº¦æƒé™æ§åˆ¶
- âœ… **æ—¥å¿—å®¡è®¡**: å®Œæ•´çš„ API è®¿é—®æ—¥å¿—

## ğŸ” ç›‘æ§ä¸æ—¥å¿—

### æ—¥å¿—é…ç½®

æ—¥å¿—ä½¿ç”¨ Zap + Lumberjack å®ç°é«˜æ€§èƒ½æ—¥å¿—è½®è½¬ï¼š

```yaml
log:
  level: "debug"              # çº§åˆ«: debug/info/warn/error
  filename: "logs/app.log"    # æ—¥å¿—æ–‡ä»¶è·¯å¾„
  max_size: 100               # å•ä¸ªæ–‡ä»¶æœ€å¤§ MB
  max_age: 7                  # ä¿ç•™å¤©æ•°
  max_backups: 10             # ä¿ç•™æ–‡ä»¶æ•°
```

### æ—¥å¿—è¾“å‡ºç¤ºä¾‹

```json
{"level":"info","ts":1617972893.123,"caller":"middleware/apilog.go:56","msg":"API request","method":"POST","path":"/api/user/login","status":200,"duration":23,"client_ip":"127.0.0.1"}
```

### è®¿é—®æ—¥å¿—

è‡ªåŠ¨è®°å½•æ‰€æœ‰ API è¯·æ±‚ï¼š
- è¯·æ±‚æ–¹æ³•ã€è·¯å¾„ã€å‚æ•°
- å“åº”çŠ¶æ€ç ã€å“åº”ä½“
- æ‰§è¡Œè€—æ—¶
- å®¢æˆ·ç«¯ IP
- ç”¨æˆ·ä¿¡æ¯ï¼ˆå·²ç™»å½•ï¼‰

### é”™è¯¯æ—¥å¿—

è‡ªåŠ¨æ•è·å¹¶è®°å½•ï¼š
- Panic å¼‚å¸¸
- ä¸šåŠ¡é”™è¯¯
- ç³»ç»Ÿé”™è¯¯
- å®Œæ•´å †æ ˆè·Ÿè¸ª

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### Q1: Token è¿‡æœŸå¦‚ä½•å¤„ç†ï¼Ÿ

è¿”å› 401 é”™è¯¯ç ï¼Œå‰ç«¯éœ€è¦é‡æ–°ç™»å½•è·å–æ–° Tokenã€‚

```go
if errors.Is(err, jwt.ErrTokenExpired) {
    core.WriteError(c, core.UnauthorizedCode, "Token å·²è¿‡æœŸ")
    return
}
```

### Q2: å¦‚ä½•åŒºåˆ†ç”¨æˆ·ç±»å‹ï¼Ÿ

é€šè¿‡ `loginUser.UserType` å­—æ®µï¼š
- `0`: æ™®é€šç”¨æˆ· (Member)
- `1`: ç®¡ç†å‘˜ (Admin)

```go
loginUser := core.GetLoginUser(c)
if loginUser.UserType == 0 {
    // æ™®é€šç”¨æˆ·
} else if loginUser.UserType == 1 {
    // ç®¡ç†å‘˜
}
```

### Q3: å¦‚ä½•å®ç°ç§Ÿæˆ·éš”ç¦»ï¼Ÿ

åœ¨æŸ¥è¯¢æ—¶ä½¿ç”¨ `loginUser.TenantID` è¿‡æ»¤æ•°æ®ï¼š

```go
loginUser := core.GetLoginUser(c)
orders := query.Order.Where(
    query.Order.TenantID.Eq(loginUser.TenantID),
    query.Order.UserID.Eq(loginUser.UserID),
).Find()
```

### Q4: å¦‚ä½•æ·»åŠ æ–°çš„é”™è¯¯ç ï¼Ÿ

åœ¨ `internal/pkg/core/error.go` ä¸­æ·»åŠ ï¼š

```go
const NewErrorCode = 4xx

var ErrNewError = NewBizError(NewErrorCode, "é”™è¯¯æè¿°")
```

### Q5: å¦‚ä½•å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼Ÿ

åœ¨ `config/config.local.yaml` ä¸­è®¾ç½®ï¼š

```yaml
http:
  mode: "debug"    # debug æˆ– release

log:
  level: "debug"   # debug/info/warn/error
```

### Q6: æ•°æ®åº“è¿ç§»å¦‚ä½•å¤„ç†ï¼Ÿ

æœ¬é¡¹ç›®ä½¿ç”¨ GORM çš„ AutoMigrate åŠŸèƒ½ï¼š

```go
// è‡ªåŠ¨è¿ç§»è¡¨ç»“æ„
_ = db.AutoMigrate(
    &model.User{},
    &model.Product{},
    &model.Order{},
)
```

### Q7: å¦‚ä½•æ‰©å±•ä¸­é—´ä»¶ï¼Ÿ

åˆ›å»ºæ–°çš„ä¸­é—´ä»¶å‡½æ•°å¹¶æ·»åŠ åˆ°è·¯ç”±ï¼š

```go
func NewMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        // å¤„ç†é€»è¾‘
        c.Set("key", "value")
        c.Next()
    }
}

// ä½¿ç”¨
router.Use(NewMiddleware())
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ğŸ“‹ å¯¹é½æ£€æŸ¥æ¸…å•](./ALIGNMENT_CHECKLIST.md) - è¯¦ç»†çš„å¯¹é½éªŒè¯æ¸…å•
- [ğŸ”§ ä¿®å¤æ€»ç»“](./ALIGNMENT_FIX_SUMMARY.md) - å·²ä¿®å¤çš„é—®é¢˜å’Œä¼˜åŒ–
- [âœ… éªŒè¯æŠ¥å‘Š](./ALIGNMENT_VERIFICATION_REPORT.md) - è‡ªæŸ¥éªŒè¯ç»“æœ
- [ğŸ¯ åŠŸèƒ½å¯¹æ¯”](./FUNCTION_COMPARISON.md) - Go ä¸ Java ç‰ˆæœ¬åŠŸèƒ½å¯¹æ¯”
- [ğŸ› å·²çŸ¥é—®é¢˜](./KNOWN_ISSUES.md) - å·²çŸ¥é—®é¢˜åˆ—è¡¨å’Œè§£å†³æ–¹æ¡ˆ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æå‡ºé—®é¢˜æˆ–æ”¹è¿›å»ºè®®ï¼

### å¼€å‘æµç¨‹

1. **Fork** é¡¹ç›®
2. **Clone** ä½ çš„ Fork
3. åˆ›å»º **Feature** åˆ†æ”¯
4. æäº¤ä»£ç 
5. å‘èµ· **Pull Request**

### ä»£ç è§„èŒƒ

- éµå¾ª Go å®˜æ–¹ç¼–ç è§„èŒƒ
- ä½¿ç”¨ `gofmt` æ ¼å¼åŒ–ä»£ç 
- æäº¤å‰è¿è¡Œ `go vet` æ£€æŸ¥
- æ·»åŠ å¿…è¦çš„å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### æäº¤è§„èŒƒ

ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼š
- `feat: æ·»åŠ æ–°åŠŸèƒ½`
- `fix: ä¿®å¤ bug`
- `docs: æ›´æ–°æ–‡æ¡£`
- `refactor: ä»£ç é‡æ„`
- `test: æ·»åŠ æµ‹è¯•`
- `chore: æ„å»ºæˆ–è¾…åŠ©å·¥å…·`

## ğŸ“ è®¸å¯è¯

MIT License

Copyright (c) 2025 Yudao Backend Go

## ğŸ’¬ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ï¼š

- æäº¤ **[Issue](https://github.com/your-repo/issues)**
- å‘èµ· **[Pull Request](https://github.com/your-repo/pulls)**
- è”ç³»ç»´æŠ¤è€…ï¼šyour-email@example.com

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®å’Œç¤¾åŒºï¼š

- [Gin Web Framework](https://github.com/gin-gonic/gin)
- [GORM](https://gorm.io/)
- [ruoyi-vue-pro](https://gitee.com/zhijiantianya/ruoyi-vue-pro) (Java ç‰ˆæœ¬)
- [Google Wire](https://github.com/google/wire)
- [Uber Zap](https://github.com/uber-go/zap)

---

<div align="center">

**Made with â¤ï¸ by Go Developers**

<p align="center">
  <img src="https://img.shields.io/badge/Version-1.0.0-blue.svg">
  <img src="https://img.shields.io/badge/Status-Stable-success.svg">
  <img src="https://img.shields.io/badge/Go-1.25.4-00ADD8.svg">
</p>

</div>

---

*æœ€åæ›´æ–°ï¼š2025-12-11*
